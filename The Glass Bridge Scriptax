-- Attempt to load Rayfield library from sirius.menu
local success, Rayfield = pcall(function()
    return loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
end)

-- Check if Rayfield loaded successfully
if not success or not Rayfield then
    warn("Failed to load Rayfield from https://sirius.menu/rayfield. Running script without UI.")
    -- Fallback script without UI
    for _, step in pairs(workspace:GetChildren()) do
        if step.Name == "Step" and step:IsA("Model") then
            local glassTempered = step:FindFirstChild("glass_tempered")
            if glassTempered then
                for _, part in pairs(glassTempered:GetDescendants()) do
                    if part:IsA("BasePart") or part:IsA("MeshPart") then
                        part.Color = Color3.fromRGB(0, 255, 0) -- Neon green
                        part.Material = Enum.Material.Neon
                    end
                end
            end
        end
    end
    print("Coloring completed: glass_tempered (neon green).")
else
    -- Show decorative notification on script start
    Rayfield:Notify({
        Title = "Scriptax HUB",
        Content = "Welcome to Scriptax HUB! Glass Color Menu loaded successfully.",
        Duration = 4,
        Image = "rbxassetid://4483345998"
    })

    -- Services
    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local UserInputService = game:GetService("UserInputService")
    local RunService = game:GetService("RunService")

    -- Function to create the window
    local function createWindow()
        local Window = Rayfield:CreateWindow({
            Name = "Glass Color Menu | Scriptax",
            LoadingTitle = "Loading...",
            LoadingSubtitle = "by Estardax",
            ShowText = "Open Menu",
            Theme = "Serenity",
            ToggleUIKeybind = "G",
            KeySystem = false,
            ConfigurationSaving = { 
                Enabled = true, 
                FolderName = "ScriptaxConfig", 
                FileName = "GlassColorConfig" 
            }
        })

        -- ================== SHARED VARS ==================
        local glassEspEnabled = false
        local correctAllEnabled = false
        local originalProps = {} -- [part] = {Color=..., Material=...}
        local hiddenDetectors = {} -- Store hidden detectors to restore later
        local GlassEspToggle = nil -- Reference to Glass ESP toggle
        local CorrectAllToggle = nil -- Reference to Correct All toggle
        local floatingEspButton = nil -- Reference to the ESP floating button UI
        local floatingCorrectButton = nil -- Reference to the Correct All floating button UI
        local floatingEspButtonToggle = nil -- Reference to the ESP mobile toggle
        local floatingCorrectButtonToggle = nil -- Reference to the Correct All mobile toggle
        local espStroke = nil -- Reference to the ESP UIStroke for borders
        local correctStroke = nil -- Reference to the Correct All UIStroke for borders
        local cachedParts = { tempered = {}, weak = {} } -- Cache for parts to color
        local autoLoadToggle = nil -- Reference to auto load toggle
        local profileDropdown = nil -- Reference to profile dropdown
        local currentProfile = "Default" -- Current selected profile
        local profiles = {["Default"] = {}} -- Profile storage
        
        -- Auto-refresh connection
        local refreshConnection = nil

        -- Profile management functions
        local function saveProfile(profileName)
            if not profileName or profileName == "" then return end
            
            profiles[profileName] = {
                glassEspEnabled = glassEspEnabled,
                correctAllEnabled = correctAllEnabled,
                espButtonEnabled = floatingEspButtonToggle and floatingEspButtonToggle.CurrentValue or false,
                correctButtonEnabled = floatingCorrectButtonToggle and floatingCorrectButtonToggle.CurrentValue or false,
                espButtonPosition = floatingEspButton and {floatingEspButton.Position.X.Scale, floatingEspButton.Position.X.Offset, floatingEspButton.Position.Y.Scale, floatingEspButton.Position.Y.Offset} or {0.4, 0, 0.5, 0},
                correctButtonPosition = floatingCorrectButton and {floatingCorrectButton.Position.X.Scale, floatingCorrectButton.Position.X.Offset, floatingCorrectButton.Position.Y.Scale, floatingCorrectButton.Position.Y.Offset} or {0.6, 0, 0.5, 0}
            }
        end

        local function loadProfile(profileName)
            if not profiles[profileName] then return end
            local profile = profiles[profileName]
            
            -- Load ESP state
            if profile.glassEspEnabled ~= glassEspEnabled then
                toggleGlassEsp()
            end
            
            -- Load Correct All state
            if profile.correctAllEnabled ~= correctAllEnabled then
                toggleCorrectAll()
            end
            
            -- Load floating buttons
            if floatingEspButtonToggle then
                floatingEspButtonToggle:Set(profile.espButtonEnabled or false)
            end
            if floatingCorrectButtonToggle then
                floatingCorrectButtonToggle:Set(profile.correctButtonEnabled or false)
            end
            
            -- Restore button positions
            if floatingEspButton and profile.espButtonPosition then
                local pos = profile.espButtonPosition
                floatingEspButton.Position = UDim2.new(pos[1], pos[2], pos[3], pos[4])
            end
            if floatingCorrectButton and profile.correctButtonPosition then
                local pos = profile.correctButtonPosition
                floatingCorrectButton.Position = UDim2.new(pos[1], pos[2], pos[3], pos[4])
            end
            
            currentProfile = profileName
            Rayfield:Notify({
                Title = "Profile Loaded",
                Content = "Load " .. profileName,
                Duration = 3,
                Image = "rbxassetid://4483345998"
            })
        end

        -- Cache parts to color
        local function cacheParts()
            cachedParts.tempered = {}
            cachedParts.weak = {}
            originalProps = {} -- Reset original props
            
            for _, step in pairs(workspace:GetChildren()) do
                if step.Name == "Step" and step:IsA("Model") then
                    local glassTempered = step:FindFirstChild("glass_tempered")
                    local glassWeak = step:FindFirstChild("glass_weak")
                    
                    if glassTempered then
                        for _, part in pairs(glassTempered:GetDescendants()) do
                            if part:IsA("BasePart") or part:IsA("MeshPart") then
                                table.insert(cachedParts.tempered, part)
                                if not originalProps[part] then
                                    originalProps[part] = { Color = part.Color, Material = part.Material }
                                end
                            end
                        end
                    end
                    
                    if glassWeak then
                        for _, part in pairs(glassWeak:GetDescendants()) do
                            if part:IsA("BasePart") or part:IsA("MeshPart") then
                                table.insert(cachedParts.weak, part)
                                if not originalProps[part] then
                                    originalProps[part] = { Color = part.Color, Material = part.Material }
                                end
                            end
                        end
                    end
                end
            end
            
            if #cachedParts.tempered == 0 and #cachedParts.weak == 0 then
                Rayfield:Notify({
                    Title = "Warning",
                    Content = "No glass parts found in workspace.",
                    Duration = 5,
                    Image = "rbxassetid://4483345998"
                })
            end
        end

        -- Apply ESP to cached tempered parts
        local function applyGlassEsp()
            for _, part in pairs(cachedParts.tempered) do
                if part and part.Parent then
                    part.Color = Color3.fromRGB(0, 255, 0) -- Neon green
                    part.Material = Enum.Material.Neon
                end
            end
        end

        -- Apply Correct All to cached weak parts
        local function applyCorrectAll()
            for _, step in pairs(workspace:GetChildren()) do
                if step.Name == "Step" and step:IsA("Model") then
                    local glassWeak = step:FindFirstChild("glass_weak")
                    if glassWeak then
                        -- Color weak glass parts blue neon
                        for _, part in pairs(glassWeak:GetDescendants()) do
                            if part:IsA("BasePart") or part:IsA("MeshPart") then
                                part.Color = Color3.fromRGB(0, 0, 255) -- Blue
                                part.Material = Enum.Material.Neon -- Make it neon
                            end
                        end
                        
                        -- Hide detector instead of destroying it
                        local detector = glassWeak:FindFirstChild("Detector")
                        if detector and not hiddenDetectors[glassWeak] then
                            detector.Parent = nil -- Remove from parent but don't destroy
                            hiddenDetectors[glassWeak] = detector -- Store reference
                        end
                    end
                end
            end
        end

        -- Reset ESP
        local function resetGlassEsp()
            for part, props in pairs(originalProps) do
                if typeof(part) == "Instance" and part and part.Parent and table.find(cachedParts.tempered, part) then
                    part.Color = props.Color
                    part.Material = props.Material
                end
            end
        end

        -- Reset Correct All
        local function resetCorrectAll()
            -- First restore all detectors
            for glassWeak, detector in pairs(hiddenDetectors) do
                if glassWeak and glassWeak.Parent and detector then
                    detector.Parent = glassWeak
                end
            end
            hiddenDetectors = {} -- Clear the table
            
            -- Then reset colors
            for _, step in pairs(workspace:GetChildren()) do
                if step.Name == "Step" and step:IsA("Model") then
                    local glassWeak = step:FindFirstChild("glass_weak")
                    if glassWeak then
                        -- Reset weak glass parts color
                        for _, part in pairs(glassWeak:GetDescendants()) do
                            if part:IsA("BasePart") or part:IsA("MeshPart") then
                                if originalProps[part] then
                                    part.Color = originalProps[part].Color
                                    part.Material = originalProps[part].Material
                                end
                            end
                        end
                    end
                end
            end
        end

        -- Auto-refresh function
        local function autoRefresh()
            if glassEspEnabled then
                applyGlassEsp()
            end
            if correctAllEnabled then
                applyCorrectAll()
            end
        end

        -- Toggle ESP
        function toggleGlassEsp()
            glassEspEnabled = not glassEspEnabled
            if GlassEspToggle then GlassEspToggle:Set(glassEspEnabled) end
            if glassEspEnabled then
                cacheParts()
                applyGlassEsp()
                if espStroke then
                    espStroke.Color = Color3.fromRGB(0, 255, 0) -- Green borders
                end
                Rayfield:Notify({
                    Title = "Success",
                    Content = "glass_tempered (neon green) enabled.",
                    Duration = 3,
                    Image = "rbxassetid://4483345998"
                })
            else
                resetGlassEsp()
                if espStroke then
                    espStroke.Color = Color3.fromRGB(0, 0, 0) -- Black borders
                end
                Rayfield:Notify({
                    Title = "Reset",
                    Content = "glass_tempered reset to original colors.",
                    Duration = 3,
                    Image = "rbxassetid://4483345998"
                })
            end
        end

        -- Toggle Correct All
        function toggleCorrectAll()
            correctAllEnabled = not correctAllEnabled
            if CorrectAllToggle then CorrectAllToggle:Set(correctAllEnabled) end
            if correctAllEnabled then
                cacheParts()
                applyCorrectAll()
                if correctStroke then
                    correctStroke.Color = Color3.fromRGB(0, 255, 0) -- Green borders (changed from blue)
                end
                Rayfield:Notify({
                    Title = "Success",
                    Content = "glass_weak (blue neon) enabled and detectors hidden.",
                    Duration = 3,
                    Image = "rbxassetid://4483345998"
                })
            else
                resetCorrectAll()
                if correctStroke then
                    correctStroke.Color = Color3.fromRGB(0, 0, 0) -- Black borders
                end
                Rayfield:Notify({
                    Title = "Reset",
                    Content = "glass_weak reset and detectors restored.",
                    Duration = 3,
                    Image = "rbxassetid://4483345998"
                })
            end
        end

        -- Function to create the ESP floating draggable button
        local function createFloatingEspButton()
            if floatingEspButton then return end

            local screenGui = Instance.new("ScreenGui")
            screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
            screenGui.IgnoreGuiInset = true
            screenGui.ResetOnSpawn = false -- Prevent reset on death

            floatingEspButton = Instance.new("Frame")
            floatingEspButton.Size = UDim2.new(0, 50, 0, 50) -- Made smaller
            floatingEspButton.Position = UDim2.new(0.4, 0, 0.5, 0)
            floatingEspButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White background
            floatingEspButton.BorderSizePixel = 0
            floatingEspButton.Parent = screenGui

            local uiCorner = Instance.new("UICorner")
            uiCorner.CornerRadius = UDim.new(1, 0) -- Fully circular
            uiCorner.Parent = floatingEspButton

            espStroke = Instance.new("UIStroke")
            espStroke.Thickness = 2
            espStroke.Color = glassEspEnabled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(0, 0, 0) -- Sync with ESP state
            espStroke.Parent = floatingEspButton

            local textLabel = Instance.new("TextLabel")
            textLabel.Size = UDim2.new(1, 0, 1, 0)
            textLabel.BackgroundTransparency = 1
            textLabel.Text = "ESP"
            textLabel.TextColor3 = Color3.fromRGB(0, 0, 0) -- Black text
            textLabel.TextSize = 14
            textLabel.Font = Enum.Font.SourceSansBold
            textLabel.Parent = floatingEspButton

            local button = Instance.new("TextButton")
            button.Size = UDim2.new(1, 0, 1, 0)
            button.BackgroundTransparency = 1
            button.Text = ""
            button.Parent = floatingEspButton
            button.MouseButton1Click:Connect(toggleGlassEsp)

            -- Make it draggable
            local dragging = false
            local dragInput, dragStart, startPos

            local function update(input)
                local delta = input.Position - dragStart
                floatingEspButton.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            end

            button.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = true
                    dragStart = input.Position
                    startPos = floatingEspButton.Position
                    input.Changed:Connect(function()
                        if input.UserInputState == Enum.UserInputState.End then
                            dragging = false
                        end
                    end)
                end
            end)

            button.InputChanged:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                    dragInput = input
                end
            end)

            UserInputService.InputChanged:Connect(function(input)
                if input == dragInput and dragging then
                    update(input)
                end
            end)
        end

        -- Function to create the Correct All floating draggable button
        local function createFloatingCorrectButton()
            if floatingCorrectButton then return end

            local screenGui = Instance.new("ScreenGui")
            screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
            screenGui.IgnoreGuiInset = true
            screenGui.ResetOnSpawn = false -- Prevent reset on death

            floatingCorrectButton = Instance.new("Frame")
            floatingCorrectButton.Size = UDim2.new(0, 50, 0, 50) -- Made smaller and same size as ESP
            floatingCorrectButton.Position = UDim2.new(0.6, 0, 0.5, 0)
            floatingCorrectButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White background
            floatingCorrectButton.BorderSizePixel = 0
            floatingCorrectButton.Parent = screenGui

            local uiCorner = Instance.new("UICorner")
            uiCorner.CornerRadius = UDim.new(1, 0) -- Fully circular
            uiCorner.Parent = floatingCorrectButton

            correctStroke = Instance.new("UIStroke")
            correctStroke.Thickness = 2
            correctStroke.Color = correctAllEnabled and Color3.fromRGB(0, 255, 0) or Color3.fromRGB(0, 0, 0) -- Green borders like ESP
            correctStroke.Parent = floatingCorrectButton

            local textLabel = Instance.new("TextLabel")
            textLabel.Size = UDim2.new(1, 0, 1, 0)
            textLabel.BackgroundTransparency = 1
            textLabel.Text = "ALL"
            textLabel.TextColor3 = Color3.fromRGB(0, 0, 0) -- Black text
            textLabel.TextSize = 14 -- Same size as ESP
            textLabel.Font = Enum.Font.SourceSansBold -- Same font as ESP
            textLabel.Parent = floatingCorrectButton

            local button = Instance.new("TextButton")
            button.Size = UDim2.new(1, 0, 1, 0)
            button.BackgroundTransparency = 1
            button.Text = ""
            button.Parent = floatingCorrectButton
            button.MouseButton1Click:Connect(toggleCorrectAll)

            -- Make it draggable (same as ESP)
            local dragging = false
            local dragInput, dragStart, startPos

            local function update(input)
                local delta = input.Position - dragStart
                floatingCorrectButton.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
            end

            button.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                    dragging = true
                    dragStart = input.Position
                    startPos = floatingCorrectButton.Position
                    input.Changed:Connect(function()
                        if input.UserInputState == Enum.UserInputState.End then
                            dragging = false
                        end
                    end)
                end
            end)

            button.InputChanged:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                    dragInput = input
                end
            end)

            UserInputService.InputChanged:Connect(function(input)
                if input == dragInput and dragging then
                    update(input)
                end
            end)
        end

        -- Function to destroy the floating ESP button
        local function destroyFloatingEspButton()
            if floatingEspButton then
                floatingEspButton.Parent:Destroy()
                floatingEspButton = nil
                espStroke = nil
            end
        end

        -- Function to destroy the floating Correct All button
        local function destroyFloatingCorrectButton()
            if floatingCorrectButton then
                floatingCorrectButton.Parent:Destroy()
                floatingCorrectButton = nil
                correctStroke = nil
            end
        end

        -- Recreate floating buttons on character respawn
        LocalPlayer.CharacterAdded:Connect(function()
            -- Wait a bit for the game to stabilize
            task.wait(2)
            
            -- Reset states properly
            hiddenDetectors = {}
            originalProps = {}
            
            -- Recreate buttons if they were enabled
            if floatingEspButtonToggle and floatingEspButtonToggle.CurrentValue then
                createFloatingEspButton()
            end
            if floatingCorrectButtonToggle and floatingCorrectButtonToggle.CurrentValue then
                createFloatingCorrectButton()
            end
            
            -- Re-cache and reapply if needed
            if glassEspEnabled or correctAllEnabled then
                cacheParts()
                if glassEspEnabled then
                    applyGlassEsp()
                end
                if correctAllEnabled then
                    applyCorrectAll()
                end
            end
        end)

        -- Auto-refresh system to maintain effects
        refreshConnection = RunService.Heartbeat:Connect(function()
            autoRefresh()
        end)

        -- =================== TAB: MAIN ===================
        local TabMain = Window:CreateTab("Main", "layers")
        TabMain:CreateSection("Glass Coloring")
        GlassEspToggle = TabMain:CreateToggle({
            Name = "Glass ESP",
            CurrentValue = false,
            Flag = "Glass_ESP",
            Callback = function(v)
                glassEspEnabled = v
                if v then
                    cacheParts()
                    applyGlassEsp()
                    if espStroke then
                        espStroke.Color = Color3.fromRGB(0, 255, 0)
                    end
                    Rayfield:Notify({
                        Title = "Success",
                        Content = "glass_tempered (neon green) enabled.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                else
                    resetGlassEsp()
                    if espStroke then
                        espStroke.Color = Color3.fromRGB(0, 0, 0)
                    end
                    Rayfield:Notify({
                        Title = "Reset",
                        Content = "glass_tempered reset to original colors.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end,
        })

        TabMain:CreateSection("Correct All")
        CorrectAllToggle = TabMain:CreateToggle({
            Name = "Correct All Glass",
            CurrentValue = false,
            Flag = "Correct_All",
            Callback = function(v)
                correctAllEnabled = v
                if v then
                    cacheParts()
                    applyCorrectAll()
                    if correctStroke then
                        correctStroke.Color = Color3.fromRGB(0, 255, 0)
                    end
                    Rayfield:Notify({
                        Title = "Success",
                        Content = "glass_weak (blue neon) enabled and detectors hidden.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                else
                    resetCorrectAll()
                    if correctStroke then
                        correctStroke.Color = Color3.fromRGB(0, 0, 0)
                    end
                    Rayfield:Notify({
                        Title = "Reset",
                        Content = "glass_weak reset and detectors restored.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end
        })

        TabMain:CreateSection("Configuration")
        TabMain:CreateLabel("Settings save manually in-game.")

        -- ================= TAB: MOBILE =================
        local TabMobile = Window:CreateTab("Mobile", "smartphone")
        TabMobile:CreateSection("Floating Buttons")
        floatingEspButtonToggle = TabMobile:CreateToggle({
            Name = "ESP Button",
            CurrentValue = false,
            Flag = "Floating_ESP_Button",
            Callback = function(v)
                if v then
                    createFloatingEspButton()
                    Rayfield:Notify({
                        Title = "Success",
                        Content = "ESP floating button enabled.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                else
                    destroyFloatingEspButton()
                    Rayfield:Notify({
                        Title = "Success",
                        Content = "ESP floating button disabled.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end,
        })

        floatingCorrectButtonToggle = TabMobile:CreateToggle({
            Name = "Correct All Button",
            CurrentValue = false,
            Flag = "Floating_Correct_Button",
            Callback = function(v)
                if v then
                    createFloatingCorrectButton()
                    Rayfield:Notify({
                        Title = "Success",
                        Content = "Correct All floating button enabled.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                else
                    destroyFloatingCorrectButton()
                    Rayfield:Notify({
                        Title = "Success",
                        Content = "Correct All floating button disabled.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end,
        })

        -- ================= TAB: PROFILES =================
        local TabProfiles = Window:CreateTab("Profiles", "user")
        TabProfiles:CreateSection("Profile Management")
        
        local profileName = TabProfiles:CreateInput({
            Name = "Profile Name",
            PlaceholderText = "Enter profile name...",
            RemoveTextAfterFocusLost = false,
            Callback = function(Text)
                -- Just store the text, no immediate action
            end,
        })

        TabProfiles:CreateButton({
            Name = "Create Profile",
            Callback = function()
                local name = profileName.Text
                if name and name ~= "" then
                    saveProfile(name)
                    -- Update dropdown options
                    local options = {}
                    for profileName, _ in pairs(profiles) do
                        table.insert(options, profileName)
                    end
                    if profileDropdown then
                        profileDropdown:Refresh(options, currentProfile)
                    end
                    Rayfield:Notify({
                        Title = "Profile Created",
                        Content = "Profile '" .. name .. "' has been created successfully.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                else
                    Rayfield:Notify({
                        Title = "Error",
                        Content = "Please enter a valid profile name.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end,
        })

        profileDropdown = TabProfiles:CreateDropdown({
            Name = "Select Profile",
            Options = {"Default"},
            CurrentOption = "Default",
            MultipleOptions = false,
            Flag = "Selected_Profile",
            Callback = function(Option)
                currentProfile = Option
            end,
        })

        TabProfiles:CreateButton({
            Name = "Load Selected Profile",
            Callback = function()
                if currentProfile and profiles[currentProfile] then
                    loadProfile(currentProfile)
                else
                    Rayfield:Notify({
                        Title = "Error",
                        Content = "Please select a valid profile.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end,
        })

        autoLoadToggle = TabProfiles:CreateToggle({
            Name = "Auto Load Profile",
            CurrentValue = false,
            Flag = "Auto_Load_Profile",
            Callback = function(Value)
                if Value and currentProfile and profiles[currentProfile] then
                    -- Auto load will trigger on next script execution
                    Rayfield:Notify({
                        Title = "Auto Load Enabled",
                        Content = "Profile '" .. currentProfile .. "' will auto-load on next execution.",
                        Duration = 3,
                        Image = "rbxassetid://4483345998"
                    })
                end
            end,
        })

        -- ================= TAB: KEYBINDS =================
        local TabKeys = Window:CreateTab("Keybinds", "keyboard")
        TabKeys:CreateSection("Custom Keybinds")
        TabKeys:CreateKeybind({
            Name = "Toggle Glass ESP",
            CurrentKeybind = "E",
            HoldToInteract = false,
            Flag = "Keybind_GlassESP",
            Callback = toggleGlassEsp
        })
        TabKeys:CreateKeybind({
            Name = "Toggle Correct All",
            CurrentKeybind = "R",
            HoldToInteract = false,
            Flag = "Keybind_CorrectAll",
            Callback = toggleCorrectAll
        })
        TabKeys:CreateLabel("Press G to open/close the menu")
        TabKeys:CreateLabel("Default: E for Glass ESP, R for Correct All")

        -- ================== CREDITS ==================
        local TabCredits = Window:CreateTab("Credits", "award")
        TabCredits:CreateSection("Script Information")
        TabCredits:CreateLabel("Glass Color Menu | Made by Estardax âš¡")
        TabCredits:CreateLabel("UI powered by Rayfield Library")
        TabCredits:CreateLabel("Scriptax HUB - Advanced Glass Bridge Tools")

        return Window
    end

    -- Initial creation with default profile
    createWindow()
end
